import{r as d,a as L,c as q,P as D,_ as se,b as ne,u as fe,T as ve,j as e,w as ye}from"./index-CWCk8Mfu.js";import{C as ie}from"./CFormLabel-C5kMTk4Z.js";import{C as ce}from"./CFormInput-9pZ0Cm2L.js";import{C as P}from"./CFormSelect-010MiXJJ.js";import{f as de}from"./api-helnlucg.js";import{M as G}from"./mantine-react-table.esm-D7ROjfMt.js";import{g as ge,C as De,b as be}from"./DefaultLayout-CWVqZZSL.js";import{a as je}from"./index.esm-CtJdof8l.js";import{ad as we}from"./Table-DlhIHgLf.js";import"./cil-mobile-C0RpYdWd.js";var Se=function(t){if(!t)return 0;var a=window.getComputedStyle(t),r=a.transitionDuration,s=a.transitionDelay,n=Number.parseFloat(r),l=Number.parseFloat(s);return!n&&!l?0:(r=r.split(",")[0],s=s.split(",")[0],(Number.parseFloat(r)+Number.parseFloat(s))*1e3)},re=d.createContext({}),le=d.forwardRef(function(t,a){var r=t.children,s=t.activeItemKey,n=t.className,l=t.onChange,m=d.useId(),h=d.useState(s),u=h[0],p=h[1];return d.useEffect(function(){u&&l&&l(u)},[u]),L.createElement(re.Provider,{value:{_activeItemKey:u,setActiveItemKey:p,id:m}},L.createElement("div",{className:q("tabs",n),ref:a},r))});le.propTypes={activeItemKey:D.oneOfType([D.number,D.string]).isRequired,children:D.node,className:D.string,onChange:D.func};le.displayName="CTabs";var $=d.forwardRef(function(t,a){var r=t.children,s=t.className,n=t.itemKey,l=se(t,["children","className","itemKey"]),m=d.useContext(re),h=m._activeItemKey,u=m.setActiveItemKey,p=m.id,b=function(){return n===h};return L.createElement("button",ne({className:q("nav-link",{active:b()},s),id:"".concat(p).concat(n,"-tab"),onClick:function(){return u(n)},onFocus:function(){return u(n)},role:"tab",tabIndex:b()?0:-1,type:"button","aria-controls":"".concat(p).concat(n,"-tab-pane"),"aria-selected":b(),ref:a},l),r)});$.propTypes={children:D.node,className:D.string,itemKey:D.oneOfType([D.number,D.string]).isRequired};$.displayName="CTab";var I=d.forwardRef(function(t,a){var r=t.children,s=t.className,n=t.itemKey,l=t.onHide,m=t.onShow,h=t.transition,u=h===void 0?!0:h,p=t.visible,b=se(t,["children","className","itemKey","onHide","onShow","transition","visible"]),y=d.useContext(re),i=y._activeItemKey,g=y.id,x=d.useRef(),o=fe(a,x),c=d.useState(p||i===n),w=c[0],k=c[1];return d.useEffect(function(){p!==void 0&&k(p)},[p]),d.useEffect(function(){k(i===n)},[i]),L.createElement(ve,{in:w,nodeRef:x,onEnter:m,onExit:l,timeout:x.current?Se(x.current):0},function(R){return L.createElement("div",ne({className:q("tab-pane",{active:w,fade:u,show:R==="entered"},s),id:"".concat(g).concat(n,"-tab-pane"),role:"tabpanel","aria-labelledby":"".concat(g).concat(n,"-tab"),tabIndex:0,ref:o},b),r)})});I.propTypes={children:D.node,className:D.string,itemKey:D.oneOfType([D.number,D.string]).isRequired,onHide:D.func,onShow:D.func,transition:D.bool,visible:D.bool};I.displayName="CTabPanel";var oe=d.forwardRef(function(t,a){var r,s=t.children,n=t.className,l=t.layout,m=t.variant,h=se(t,["children","className","layout","variant"]),u=d.useRef(null),p=fe(a,u),b=function(y){if(u.current!==null&&(y.key==="ArrowDown"||y.key==="ArrowUp"||y.key==="ArrowLeft"||y.key==="ArrowRight"||y.key==="Home"||y.key==="End")){y.preventDefault();var i=y.target,g=Array.from(u.current.querySelectorAll(".nav-link:not(.disabled):not(:disabled)")),x=void 0;y.key==="Home"||y.key==="End"?x=y.key==="End"?g.at(-1):g[0]:x=ge(g,i,y.key==="ArrowDown"||y.key==="ArrowRight",!0),x&&x.focus({preventScroll:!0})}};return L.createElement("div",ne({className:q("nav",(r={},r["nav-".concat(l)]=l,r["nav-".concat(m)]=m,r),n),role:"tablist",onKeyDown:b,ref:p},h),s)});oe.propTypes={children:D.node,className:D.string,layout:D.oneOf(["fill","justified"]),variant:D.oneOf(["pills","tabs","underline","underline-border"])};oe.displayName="CTabList";function Z(t){const a=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&a==="[object Date]"?new t.constructor(+t):typeof t=="number"||a==="[object Number]"||typeof t=="string"||a==="[object String]"?new Date(t):new Date(NaN)}let Ne={};function xe(){return Ne}function ue(t,a){var h,u,p,b;const r=xe(),s=(a==null?void 0:a.weekStartsOn)??((u=(h=a==null?void 0:a.locale)==null?void 0:h.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((b=(p=r.locale)==null?void 0:p.options)==null?void 0:b.weekStartsOn)??0,n=Z(t),l=n.getDay(),m=(l<s?7:0)+l-s;return n.setDate(n.getDate()-m),n.setHours(0,0,0,0),n}var C=[];for(var X=0;X<256;++X)C.push((X+256).toString(16).slice(1));function Ce(t,a=0){return(C[t[a+0]]+C[t[a+1]]+C[t[a+2]]+C[t[a+3]]+"-"+C[t[a+4]]+C[t[a+5]]+"-"+C[t[a+6]]+C[t[a+7]]+"-"+C[t[a+8]]+C[t[a+9]]+"-"+C[t[a+10]]+C[t[a+11]]+C[t[a+12]]+C[t[a+13]]+C[t[a+14]]+C[t[a+15]]).toLowerCase()}var B,ke=new Uint8Array(16);function Me(){if(!B&&(B=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!B))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return B(ke)}var Te=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const me={randomUUID:Te};function ee(t,a,r){if(me.randomUUID&&!a&&!t)return me.randomUUID();t=t||{};var s=t.random||(t.rng||Me)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,Ce(s)}function ae(t,a){return t instanceof Date?new t.constructor(a):new Date(a)}function pe(t,a){const r=Z(t);if(isNaN(a))return ae(t,NaN);if(!a)return r;const s=r.getDate(),n=ae(t,r.getTime());n.setMonth(r.getMonth()+a+1,0);const l=n.getDate();return s>=l?n:(r.setFullYear(n.getFullYear(),n.getMonth(),s),r)}function he(t,a){var h,u,p,b;const r=xe(),s=(a==null?void 0:a.weekStartsOn)??((u=(h=a==null?void 0:a.locale)==null?void 0:h.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((b=(p=r.locale)==null?void 0:p.options)==null?void 0:b.weekStartsOn)??0,n=Z(t),l=n.getDay(),m=(l<s?-7:0)+6-(l-s);return n.setDate(n.getDate()+m),n.setHours(23,59,59,999),n}function te(t){const a=Z(t),r=a.getFullYear(),s=a.getMonth(),n=ae(t,0);return n.setFullYear(r,s+1,0),n.setHours(0,0,0,0),n.getDate()}function _e(t,a){return pe(t,-a)}const Ae=e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.05806 3.30806C7.30214 3.06398 7.69786 3.06398 7.94194 3.30806L14.1919 9.55806C14.436 9.80214 14.436 10.1979 14.1919 10.4419L7.94194 16.6919C7.69786 16.936 7.30214 16.936 7.05806 16.6919C6.81398 16.4479 6.81398 16.0521 7.05806 15.8081L12.8661 10L7.05806 4.19194C6.81398 3.94786 6.81398 3.55214 7.05806 3.30806Z"})}),Oe=e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.9419 3.30806C13.186 3.55214 13.186 3.94786 12.9419 4.19194L7.13388 10L12.9419 15.8081C13.186 16.0521 13.186 16.4479 12.9419 16.6919C12.6979 16.936 12.3021 16.936 12.0581 16.6919L5.80806 10.4419C5.56398 10.1979 5.56398 9.80214 5.80806 9.55806L12.0581 3.30806C12.3021 3.06398 12.6979 3.06398 12.9419 3.30806Z"})}),Ke=({onChange:t})=>{const[a,r]=d.useState(!1),[s,n]=d.useState(new Date),[l,m]=d.useState({firstDay:ue(new Date,{weekStartsOn:1}),lastDay:he(new Date,{weekStartsOn:1})});d.useEffect(()=>{t&&t(l)},[l]);const h=()=>new Date(new Date().getFullYear(),1,29).getDate()===29,u=x=>{let o=new Date(x),c=o.getFullYear(),w=String(o.getMonth()+1).padStart(2,"0");return`${String(o.getDate()).padStart(2,"0")}.${w}.${c}`},p=x=>{let o;x.target.id.includes("prev")?(o=new Date(s.setDate(1)),n(new Date(s.setDate(1)))):x.target.id.includes("next")?(o=new Date(s.setDate(te(s))),n(new Date(s.setDate(te(s))))):(o=new Date(s.setDate(x.target.id)),n(new Date(s.setDate(x.target.id))));const c=ue(o,{weekStartsOn:1}),w=he(o,{weekStartsOn:1});m({firstDay:c,lastDay:w})},b=["Jan.","Feb.","Mar.","Apr.","May","Jun","July","Aug.","Sep.","Oct.","Nov.","Dec."],y={1:31,2:h()?29:28,3:31,4:30,5:31,6:30,7:31,8:31,9:30,10:31,11:30,12:31},i=()=>{let x=s.getMonth()+1,o=[];for(let j=1;j<=y[x];j++){let A=new Date(s).setDate(j),O="single-number ";new Date(l.firstDay).getTime()<=new Date(A).getTime()&&new Date(A).getTime()<=new Date(l.lastDay).getTime()&&(O=O+"selected-week"),o.push(e.jsx("div",{id:j,className:O,onClick:p,children:j},ee()))}const c=new Date(s).setDate(1);let w=new Date(c).getDay();w<1&&(w=7);let k=[],R=new Date(s).getMonth();R===0&&(R=12);for(let j=w;j>1;j--){let A=new Date(s).setMonth(new Date(s).getMonth()-1),O=new Date(A).setDate(y[R]-j+2),M="single-number other-month",J=new Date(O).getTime(),S=new Date(l.firstDay).getTime(),F=new Date(l.lastDay).getTime();J>=S&&J<=F&&(M="single-number selected-week"),k.push(e.jsx("div",{onClick:p,id:"prev-"+j,className:M,children:y[R]-j+2},ee()))}let E=[],z=35;[...k,...o].length>35&&(z=42);for(let j=1;j<=z-[...k,...o].length;j++){let A="single-number other-month";const O=l.lastDay.getTime(),M=new Date(new Date(s).setDate(te(s)));M.getTime()<=O&&l.firstDay.getMonth()===M.getMonth()&&(A="single-number selected-week"),E.push(e.jsx("div",{onClick:p,id:"next-"+j,className:A,children:j},ee()))}return[...k,...o,...E]},g=x=>{let o=new Date(s);x?o=pe(o,1):o=_e(o,1),n(new Date(o))};return e.jsxs("div",{className:"week-picker-display",onBlur:()=>r(!1),onClick:()=>r(!0),tabIndex:0,children:[e.jsxs("h6",{children:[u(l.firstDay),"   to   ",u(l.lastDay)]}),a&&e.jsxs("div",{className:"week-picker-options",children:[e.jsxs("div",{className:"title-week",children:[e.jsx("div",{onClick:()=>g(!1),className:"arrow-container",children:Oe}),`${b[s.getMonth()]} ${s.getFullYear()}.`,e.jsx("div",{onClick:()=>g(!0),className:"arrow-container",children:Ae})]}),e.jsxs("div",{className:"numbers-container",children:[e.jsx("div",{className:"single-number day",children:"Mon"}),e.jsx("div",{className:"single-number day",children:"Tue"}),e.jsx("div",{className:"single-number day",children:"Wed"}),e.jsx("div",{className:"single-number day",children:"Thu"}),e.jsx("div",{className:"single-number day",children:"Fri"}),e.jsx("div",{className:"single-number day",children:"Sat"}),e.jsx("div",{className:"single-number day",children:"Sun"})]}),e.jsx("div",{className:"numbers-container",children:i()})]})]})};function Re({setStateCustom:t}){const a=d.useRef(),r=d.useRef(),s=()=>{const n=a.current.value,l=r.current.value;n&&l&&t({start_date:n,end_date:l})};return e.jsxs("div",{className:"row mt-1",children:[e.jsx("div",{className:"col-sm-6 mb-3",children:e.jsxs("div",{className:"mb-1",children:[e.jsx(ie,{htmlFor:"start_date",children:"Start Date"}),e.jsx(ce,{type:"date",ref:a,id:"start_date",name:"start_date",placeholder:"Select Start Date",onChange:s,required:!0,feedbackInvalid:"Please select a date."})]})}),e.jsx("div",{className:"col-sm-6 mb-3",children:e.jsxs("div",{className:"mb-1",children:[e.jsx(ie,{htmlFor:"end_date",children:"End Date"}),e.jsx(ce,{type:"date",id:"end_date",ref:r,name:"end_date",onChange:s,required:!0,feedbackInvalid:"Please select a date."})]})})]})}function Ee({setStateMonth:t}){const a=o=>o%4===0&&o%100!==0||o%400===0,r=(o,c)=>c===2?a(o)?29:28:[4,6,9,11].includes(c)?30:31,s=new Date().getFullYear(),n=(new Date().getMonth()+1).toString().padStart(2,"0"),[l,m]=d.useState(s.toString()),[h,u]=d.useState(n),p=2023,b=2030,y=()=>{const o=[];for(let c=p;c<=b;c++)o.push(e.jsx("option",{value:c.toString(),children:c},c));return o},i=()=>[{value:"01",label:"January"},{value:"02",label:"February"},{value:"03",label:"March"},{value:"04",label:"April"},{value:"05",label:"May"},{value:"06",label:"June"},{value:"07",label:"July"},{value:"08",label:"August"},{value:"09",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}].map(c=>e.jsx("option",{value:c.value,children:c.label},c.value)),g=o=>{const c=o.target.value;m(c);const w=r(parseInt(c),parseInt(h));t({start_date:`${c}-${h}-01`,end_date:`${c}-${h}-${w}`})},x=o=>{const c=o.target.value;u(c);const w=r(parseInt(l),parseInt(c));t({start_date:`${l}-${c}-01`,end_date:`${l}-${c}-${w}`})};return d.useEffect(()=>{const o=l||s,c=h||n,w=r(parseInt(o),parseInt(c));t({start_date:`${o}-${c}-01`,end_date:`${o}-${c}-${w}`})},[l,h]),e.jsxs("div",{className:"d-flex mb-3",children:[e.jsx("div",{className:"flex-fill mx-1",children:e.jsx(P,{className:"pl-3","aria-label":"Select Year",value:l,onChange:g,children:y()})}),e.jsx("div",{className:"flex-fill mx-1",children:e.jsx(P,{className:"pl-3","aria-label":"Select Month",value:h,onChange:x,children:i()})})]})}function Ye({setStateQuarter:t}){const a=i=>i>=4&&i<=6?"1":i>=7&&i<=9?"2":i>=10&&i<=12?"3":"4",r=(i,g)=>{switch(g){case"1":return`${i}-04-01`;case"2":return`${i}-07-01`;case"3":return`${i}-10-01`;case"4":return`${i+1}-01-01`;default:return`${i}-04-01`}},s=(i,g)=>{switch(g){case"1":return`${i}-06-30`;case"2":return`${i}-09-30`;case"3":return`${i}-12-31`;case"4":return`${i+1}-03-31`;default:return`${i+1}-03-31`}},n=new Date().getFullYear(),l=new Date().getMonth()+1,[m,h]=d.useState(n.toString()),[u,p]=d.useState(a(l));d.useEffect(()=>{const i=parseInt(m,10),g=r(i,u),x=s(i,u);t({start_date:g,end_date:x})},[m,u,t]);const b=i=>{h(i.target.value)},y=i=>{p(i.target.value)};return e.jsxs("div",{className:"d-flex",children:[e.jsx("div",{className:"flex-fill mx-1 col-sm-2",children:e.jsx(P,{className:"pl-3 w-100","aria-label":"Select Financial Year",value:m,onChange:b,children:Array.from({length:7},(i,g)=>e.jsx("option",{value:2023+g,children:`${2023+g}-${(2023+g+1).toString().slice(-2)}`},2023+g))})}),e.jsx("div",{className:"flex-fill mx-1 col-sm-4",children:e.jsx(P,{className:"pl-3 w-100","aria-label":"Select Quarter",value:u,onChange:y,children:[{value:"1",label:"Q1 (Apr - Jun)"},{value:"2",label:"Q2 (Jul - Sep)"},{value:"3",label:"Q3 (Oct - Dec)"},{value:"4",label:"Q4 (Jan - Mar)"}].map(i=>e.jsx("option",{value:i.value,children:i.label},i.value))})})]})}function $e({setStateYear:t}){const a=new Date().getFullYear(),[r,s]=d.useState(a.toString());return d.useEffect(()=>{const n=parseInt(r,10);t({start_date:`${n}-04-01`,end_date:`${n+1}-03-31`})},[r,t]),e.jsx("div",{className:"mt-2 col-sm-2 d-flex justify-content-center",children:e.jsx("div",{className:"flex-fill mx-1",children:e.jsx(P,{className:"pl-3 w-100","aria-label":"Select Financial Year",value:r,onChange:n=>s(n.target.value),children:Array.from({length:7},(n,l)=>{const m=2023+l;return e.jsx("option",{value:m.toString(),children:`${m}-${(m+1).toString().slice(-2)}`},m)})})})})}function Ie({setStateWeek:t}){const[a,r]=d.useState({firstDay:new Date,lastDay:new Date}),s=l=>{let m=new Date(l),h=m.getFullYear(),u=String(m.getMonth()+1).padStart(2,"0"),p=String(m.getDate()).padStart(2,"0");return`${h}-${u}-${p}`},n=l=>{r(l),t({start_date:s(l.firstDay),end_date:s(l.lastDay)})};return e.jsx("div",{className:"App ",children:e.jsx(Ke,{onChange:n})})}function W({selectedOption:t,salesData:a,expenseData:r,pnlData:s,expenseType:n}){const l=[{accessorKey:"invoiceDate",header:"Invoice Date"},{accessorKey:"totalAmount",header:"Total Amount"},{accessorKey:"paidAmount",header:"Paid Amount"},{accessorKey:"remainingAmount",header:"Remaining Amount"}],m=[{accessorKey:"expense_date",header:"Date"},{accessorKey:"name",header:"Details"},{accessorKey:"qty",header:"Quantity"},{accessorKey:"price",header:"Price Per Unit"},{accessorKey:"total_price",header:"Total Cost"}],h=[{accessorKey:"date",header:"Date"},{accessorKey:"totalSales",header:"Total Sales"},{accessorKey:"totalExpenses",header:"Total Expenses"},{accessorKey:"profitOrLoss",header:"Profit/Loss",Cell:({cell:u})=>e.jsx(De,{color:u.getValue()>=0?"success":"danger",children:u.getValue()})}];return e.jsxs("div",{children:[t==="1"&&e.jsx(G,{columns:l,data:a.data,enableFullScreenToggle:!1}),t==="2"&&e.jsx(G,{columns:m,data:r.data,enableFullScreenToggle:!1}),t==="3"&&e.jsx(G,{columns:h,data:s.Data,enableFullScreenToggle:!1})]})}function U({ReportOptions:t,selectedOption:a,setSelectedOption:r}){return e.jsx("div",{className:"",children:e.jsx(P,{className:"mr-2","aria-label":"Select Report Type",options:t,value:a,onChange:s=>r(s.target.value)})})}function H({fetchReportData:t}){return e.jsx("div",{children:e.jsx(je,{color:"success",onClick:t,children:"Fetch Report"})})}function qe(){const[t,a]=d.useState("3"),[r,s]=d.useState({start_date:"",end_date:""}),[n,l]=d.useState({start_date:"",end_date:""}),[m,h]=d.useState({start_date:"",end_date:""}),[u,p]=d.useState({start_date:"",end_date:""}),[b,y]=d.useState("Year"),[i,g]=d.useState({start_date:"",end_date:""}),{showToast:x}=ye(),o=[{label:"Sales",value:"1"},{label:"Expense",value:"2"},{label:"Profit & Loss",value:"3"}],[c,w]=d.useState({data:[],totalSales:0,totalPaid:0,totalRemaining:0}),[k,R]=d.useState({data:[],totalExpense:0}),[E,z]=d.useState({}),[j,A]=d.useState({Data:[],totalSales:0,totalExpenses:0,totalProfitOrLoss:0}),O=S=>{y(S)},M=async()=>{try{let S={},F=[],Q=[];switch(b){case"Custom":S=r;break;case"Month":S=n;break;case"Quarter":S=m;break;case"Year":S=u;break;case"Week":S=i;break;default:break}if(!S.start_date||!S.end_date){alert("Please select dates before fetching data.");return}if(t==="1"||t==="3"){const _=await de("/api/reportSales?startDate="+S.start_date+"&endDate="+S.end_date);if(_){const Y=_.reduce((f,N)=>(f[N.invoiceDate]||(f[N.invoiceDate]={invoiceDate:N.invoiceDate,totalAmount:0,paidAmount:0}),f[N.invoiceDate].totalAmount+=N.totalAmount,f[N.invoiceDate].paidAmount+=N.paidAmount,f),{}),K=Object.values(Y).map(f=>({...f,totalAmount:Math.round(f.totalAmount),paidAmount:Math.round(f.paidAmount),remainingAmount:Math.round(f.totalAmount-f.paidAmount)}));F=[...K];const V=K.reduce((f,N)=>f+N.totalAmount,0),T=K.reduce((f,N)=>f+N.paidAmount,0),v=K.reduce((f,N)=>f+N.remainingAmount,0);w(f=>({...f,data:K,totalSales:Math.round(V),totalPaid:Math.round(T),totalRemaining:Math.round(v)}))}else x("danger","Failed to fetch records")}if(t==="2"||t==="3"){const _=await de("/api/expense?startDate="+S.start_date+"&endDate="+S.end_date);if(_){Q=[..._];const Y=_.reduce((T,v)=>v.show?T+v.total_price:T,0);R(T=>({...T,data:_,totalExpense:Math.round(Y)}));const K=_.reduce((T,v)=>(T[v.expense_date]||(T[v.expense_date]={expense_date:v.expense_date,totalExpense:0}),T[v.expense_date].totalExpense+=v.total_price,T),{}),V=Object.values(K)}else x("danger","Failed to fetch records")}t==="3"&&J(Q,F)}catch(S){x("danger","Error occured "+S)}},J=(S,F)=>{try{const _=[...S,...F].reduce((v,f)=>{const N=f.invoiceDate||f.expense_date;return v[N]||(v[N]={date:N,totalSales:0,totalExpenses:0}),f.totalAmount&&(v[N].totalSales+=f.totalAmount),f.total_price&&(v[N].totalExpenses+=f.total_price),v},{}),Y=Object.values(_).map(v=>({...v,profitOrLoss:v.totalSales-v.totalExpenses})),K=Y.reduce((v,f)=>v+f.totalSales,0),V=Y.reduce((v,f)=>v+f.totalExpenses,0),T=Y.reduce((v,f)=>v+f.profitOrLoss,0);A(v=>({...v,Data:Y,totalSales:K,totalExpenses:V,totalProfitOrLoss:T}))}catch(Q){x("danger",Q.message)}};return e.jsx(e.Fragment,{children:e.jsx(we,{withGlobalStyles:!0,withNormalizeCSS:!0,children:e.jsxs(le,{activeItemKey:b,onChange:O,children:[e.jsxs(oe,{variant:"tabs",children:[e.jsx($,{itemKey:"Year",children:"Year"}),e.jsx($,{itemKey:"Quarter",children:"Quarter"}),e.jsx($,{itemKey:"Month",children:"Month"}),e.jsx($,{itemKey:"Week",children:"Week"}),e.jsx($,{itemKey:"Custom",default:!0,children:"Custom"})]}),e.jsxs(be,{children:[e.jsxs(I,{className:"p-3",itemKey:"Custom",children:[e.jsxs("div",{className:"d-flex mb-3 justify-content-between ",children:[e.jsxs("div",{className:"d-flex mx-1",children:[e.jsx(Re,{setStateCustom:s}),e.jsxs("div",{className:"flex-fill mx-2 mt-1 col-sm-3",children:[e.jsx("h1",{}),e.jsx("br",{}),e.jsx(U,{setSelectedOption:a,ReportOptions:o,selectedOption:t})]})]}),e.jsxs("div",{className:"flex-fill px-0 mt-1  ",children:[e.jsx("h1",{}),e.jsx("br",{}),e.jsx(H,{fetchReportData:M})]})]}),e.jsx("div",{className:"mt-3",children:e.jsx(W,{selectedOption:t,salesData:c,expenseData:k,pnlData:j,expenseType:E})})]}),e.jsxs(I,{className:"p-3",itemKey:"Week",children:[e.jsxs("div",{className:"d-flex mb-3 m",children:[e.jsx(Ie,{setStateWeek:g}),e.jsx("div",{className:"mx-1 ",children:e.jsx(U,{setSelectedOption:a,ReportOptions:o,selectedOption:t,fetchReportData:M})}),e.jsx("div",{className:"mx-1 ",children:e.jsx(H,{fetchReportData:M})})]}),e.jsx("div",{className:"mt-3",children:e.jsx(W,{selectedOption:t,salesData:c,expenseData:k,pnlData:j,expenseType:E})})]}),e.jsxs(I,{className:"p-3",itemKey:"Month",children:[e.jsxs("div",{className:"d-flex mb-3 justify-content-between",children:[e.jsx("div",{className:"flex-fill mx-1",children:e.jsx(Ee,{setStateMonth:l})}),e.jsx("div",{className:"flex-fill mx-1",children:e.jsx(U,{setSelectedOption:a,ReportOptions:o,selectedOption:t})}),e.jsx("div",{className:"flex-fill mx-1",children:e.jsx(H,{fetchReportData:M})})]}),e.jsx("div",{className:"mt-3",children:e.jsx(W,{selectedOption:t,salesData:c,expenseData:k,pnlData:j,expenseType:E})})]}),e.jsxs(I,{className:"p-3",itemKey:"Quarter",children:[e.jsxs("div",{className:"d-flex mb-3 col-md-10",children:[e.jsx(Ye,{setStateQuarter:h}),e.jsx(U,{setSelectedOption:a,ReportOptions:o,selectedOption:t,fetchReportData:M}),e.jsx("div",{className:"px-2",children:e.jsx(H,{fetchReportData:M})})]}),e.jsx("div",{className:"mt-3",children:e.jsx(W,{selectedOption:t,salesData:c,expenseData:k,pnlData:j,expenseType:E})})]}),e.jsxs(I,{className:"p-3",itemKey:"Year",children:[e.jsxs("div",{className:"d-flex mb-3 m",children:[e.jsx($e,{setStateYear:p}),e.jsx("div",{className:"mx-1 mt-2",children:e.jsx(U,{setSelectedOption:a,ReportOptions:o,selectedOption:t,fetchReportData:M})}),e.jsx("div",{className:"mx-1 mt-2",children:e.jsx(H,{fetchReportData:M})})]}),e.jsx("div",{className:"mt-3",children:e.jsx(W,{selectedOption:t,salesData:c,expenseData:k,pnlData:j,expenseType:E})})]})]})]})})})}export{qe as default};
