import{r as h,w as _,j as e}from"./index-CWCk8Mfu.js";import{h as g}from"./api-helnlucg.js";import{u as y}from"./DefaultLayout-CWVqZZSL.js";import{C as b}from"./CRow-D5FXM-Wo.js";import{C as v}from"./CCol-DELpJvbl.js";import{C as L,a as S}from"./CCardBody-CjD5VXLl.js";import{C as w}from"./CCardHeader-DfyZxt5z.js";import{C as E}from"./CForm-CjIivhzA.js";import{C as m}from"./CFormLabel-C5kMTk4Z.js";import{C as u}from"./CFormInput-9pZ0Cm2L.js";import{C as N}from"./CFormTextarea-C5z35aZe.js";import{C as B}from"./CFormCheck-DWewtuPX.js";import{a as x}from"./index.esm-CtJdof8l.js";import"./cil-mobile-C0RpYdWd.js";const J=()=>{const[C,i]=h.useState(!1),{showToast:l}=_(),{t:a}=y("global"),[s,c]=h.useState({name:"",slug:"",localName:"",desc:"",show:!0}),d=r=>{const{name:o,value:t}=r.target;c({...s,[o]:t})},f=r=>{const{name:o,checked:t}=r.target;c({...s,[o]:t})},j=async r=>{const o=r.currentTarget;if(r.preventDefault(),r.stopPropagation(),i(!0),o.checkValidity()!==!0)return;let t={...s};t.slug=t.name.replace(/[^\w]/g,"_");try{const n=await g("/api/expenseType",t);n!=null&&n.id?l("success",a("MSG.expense_type_added_successfully_msg")):l("danger",a("MSG.failed_to_add_expense_type_msg")),p()}catch(n){l("danger","Error occured "+n)}},p=async()=>{c({name:"",slug:"",localName:"",desc:"",show:!0}),i(!1)};return e.jsx(b,{children:e.jsx(v,{xs:12,children:e.jsxs(L,{className:"mb-4",children:[e.jsx(w,{children:e.jsx("strong",{children:a("LABELS.create_new_expense_type")})}),e.jsx(S,{children:e.jsxs(E,{noValidate:!0,validated:C,onSubmit:j,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(m,{htmlFor:"pname",children:a("LABELS.expense_type_name")}),e.jsx(u,{type:"text",id:"pname",placeholder:"",name:"name",value:s.name,onChange:d,required:!0,feedbackInvalid:"Please provide name."})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(m,{htmlFor:"pname",children:a("LABELS.expense_type_local_name")}),e.jsx(u,{type:"text",id:"plname",placeholder:"",name:"localName",value:s.localName,onChange:d,required:!0,feedbackInvalid:"Please provide local name."})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(m,{htmlFor:"desc",children:a("LABELS.short_description")}),e.jsx(N,{id:"desc",rows:3,name:"desc",value:s.desc,onChange:d,required:!0,feedbackInvalid:"Please provide description."})]}),e.jsx("div",{className:"mb-3",children:e.jsx(B,{id:"flexCheckDefault",label:a("LABELS.show_for_expense_records"),name:"show",checked:s.show,onChange:f})}),e.jsxs("div",{className:"mb-3",children:[e.jsx(x,{color:"success",type:"submit",children:a("LABELS.submit")}),"Â ",e.jsx(x,{color:"secondary",onClick:p,children:a("LABELS.clear")})]})]})})]})})})};export{J as default};
