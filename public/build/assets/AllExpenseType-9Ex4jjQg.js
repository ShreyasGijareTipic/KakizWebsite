import{m as g,r,w as C,j as o}from"./index-CWCk8Mfu.js";import{M as w}from"./mantine-react-table.esm-D7ROjfMt.js";import{f as S,k as A}from"./api-helnlucg.js";import{C as T}from"./ConfirmationModal-BDazWx1C.js";import{u as b,C as n}from"./DefaultLayout-CWVqZZSL.js";import{C as j}from"./CRow-D5FXM-Wo.js";import{C as B}from"./CCol-DELpJvbl.js";import"./Table-DlhIHgLf.js";import"./CModalTitle-C4XdBZVB.js";import"./index.esm-CtJdof8l.js";import"./cil-mobile-C0RpYdWd.js";const F=()=>{const l=g(),[d,p]=r.useState([]),[a,m]=r.useState(),[h,t]=r.useState(!1),{showToast:i}=C(),{t:s}=b("global"),c=async()=>{try{const e=await S("/api/expenseType");p(e)}catch(e){i("danger","Error occured "+e)}};r.useEffect(()=>{c()},[]);const u=e=>{m(e),t(!0)},x=async()=>{try{await A("/api/expenseType/"+a.id),t(!1),c()}catch(e){i("danger","Error occured "+e)}},y=e=>{l("/expense/edit-type/"+e.id)},f=[{accessorKey:"id",header:s("LABELS.id")},{accessorKey:"name",header:s("LABELS.name")},{accessorKey:"localName",header:s("LABELS.local_name")},{accessorKey:"desc",header:s("LABELS.short_desc")},{accessorKey:"show",header:s("LABELS.status"),Cell:({cell:e})=>o.jsx(n,{color:e.row.original.show===1?"success":"danger",children:e.row.original.show===1?"Visible":"Hidden"})},{accessorKey:"actions",header:s("LABELS.actions"),Cell:({cell:e})=>o.jsxs("div",{children:[o.jsx(n,{color:"info",onClick:()=>y(e.row.original),role:"button",children:s("LABELS.edit")})," ","Â ",o.jsx(n,{color:"danger",onClick:()=>u(e.row.original),role:"button",children:s("LABELS.delete")})]})}],E=d.map((e,L)=>({...e,id:L+1}));return o.jsxs(j,{children:[o.jsx(T,{visible:h,setVisible:t,onYes:x,resource:"Delete expense type - "+(a==null?void 0:a.name)}),o.jsx(B,{xs:12,children:o.jsx(w,{columns:f,data:E,enableFullScreenToggle:!1})})]})};export{F as default};
